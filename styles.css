/* =========== Design tokens */
:root {
    --bg: #0b1020;
    --panel: #10182f;
    --card: #0f1530;
    --text: #e6e8ef;
    --muted: #a7b0c3;
    --brand: #6ea8fe;
    --brand-2: #a78bfa;
    --ok: #34d399;
    --warn: #fbbf24;
    --danger: #f87171;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius: 16px;
    --radius-s: 10px;
    --gap: 16px;
    --gap-m: 24px;
    --gap-l: 40px;
    --container: min(1100px, 92vw);
    color-scheme: light dark;
  }
  html[data-theme="light"] {
    --bg: #0b1020;
    --panel: #0f172a;
    --card: #0f172a;
    --text: #e6e8ef;
    --muted: #a7b0c3;
  }
  html[data-theme="dark"] {
    /* samma tokens – vi inleder i “dark” estetiskt */
  }
  
  /* =========== Bas */
  * { box-sizing: border-box; }
  html, body { margin: 0; height: 100%; }
  body {
    font-family: ui-sans-serif, system-ui, Segoe UI, Roboto, Arial, sans-serif;
    line-height: 1.6; color: var(--text); background: radial-gradient(1200px 600px at 80% -10%, #1b2450 0%, transparent 60%) , var(--bg);
  }
  img { max-width: 100%; display: block; }
  a { color: var(--brand); text-decoration: none; }
  a:hover { text-decoration: underline; }
  
  .container { width: var(--container); margin-inline: auto; }
  .section { padding: 80px 0; }
  .h1 { font-size: clamp(24px, 1.8rem, 40px); margin: 0 0 8px; }
  .display { font-size: clamp(28px, 4.6vw, 56px); line-height: 1.1; margin: 0; }
  .lead { font-size: 18px; color: var(--muted); margin: 8px 0 20px; }
  .muted { color: var(--muted); }
  .row { display: flex; gap: var(--gap); align-items: center; }
  .stack { display: grid; }
  .gap-m { gap: var(--gap-m); }
  .gap-l { gap: var(--gap-l); }
  .space-between { justify-content: space-between; }
  .align-center { align-items: center; }
  .align-end { align-items: end; }
  .grid-2 { display: grid; grid-template-columns: 1.15fr 1fr; gap: clamp(24px, 5vw, 48px); }
  @media (max-width: 900px) { .grid-2 { grid-template-columns: 1fr; } }
  
  .btn {
    display: inline-block; padding: 10px 16px; border-radius: 999px;
    background: linear-gradient(135deg, var(--brand), var(--brand-2));
    color: #0b1020; font-weight: 700; border: 0; box-shadow: var(--shadow);
  }
  .btn:hover { transform: translateY(-1px); }
  .btn.ghost { background: transparent; color: var(--text); border: 1px solid #31406b; box-shadow: none; }
  
  /* =========== Header/Nav */
  .site-header {
    position: sticky; top: 0; z-index: 5; background: rgba(10,14,32,.7);
    backdrop-filter: blur(8px); border-bottom: 1px solid rgba(255,255,255,.06);
  }
  .nav-wrap { display: flex; align-items: center; justify-content: space-between; padding: 12px 0; }
  .logo { font-weight: 900; letter-spacing: .2px; color: #fff; }
  .logo span { color: var(--brand); }
  .nav ul { display: flex; gap: 18px; list-style: none; margin: 0; padding: 0; }
  .nav a { color: #dbe2ff; padding: 8px 10px; border-radius: 8px; }
  .nav a.active { background: #1a2550; color: #fff; }
  
  .actions { display: flex; gap: 10px; align-items: center; }
  .icon-btn {
    display: grid; place-items: center; width: 40px; height: 40px; border-radius: 10px; border: 1px solid #2b355e;
    background: #0f172a; color: #fff; box-shadow: var(--shadow); cursor: pointer;
  }
  .icon-btn svg { width: 22px; height: 22px; fill: currentColor; }
  .menu-btn { display: none; }
  @media (max-width: 900px) {
    .nav { position: fixed; inset: 64px 10px auto 10px; background: #0f172a; padding: 12px; border-radius: 12px; border: 1px solid #2b355e; display: none; }
    .nav.open { display: block; }
    .nav ul { flex-direction: column; }
    .menu-btn { display: grid; }
  }
  
  /* =========== Hero */
  .hero .kpis { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: var(--gap); }
  .kpi { font-size: 36px; font-weight: 900; display: block; }
  .hero-art { position: relative; min-height: 360px; }
  .hero-art .blob {
    position: absolute; inset: 0; background:
     radial-gradient(400px 200px at 20% 10%, #5b6df5 0%, transparent 70%),
     radial-gradient(400px 200px at 80% 80%, #a78bfa 0%, transparent 70%);
    filter: blur(24px); opacity: .6; border-radius: 40px;
  }
  .hero-art .card {
    position: absolute; right: 0; width: clamp(240px, 36vw, 320px);
    background: #0e1634; border: 1px solid #2b355e; padding: 16px; border-radius: var(--radius); margin-bottom: 14px;
  }
  .hero-art .card:nth-of-type(1) { top: 20px; }
  .hero-art .card:nth-of-type(2) { bottom: 20px; }
  
  /* =========== Cards & grids */
  .card-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: var(--gap); margin-top: 20px; }
  .card { grid-column: span 4; background: var(--card); border: 1px solid #2b355e; border-radius: var(--radius); padding: 18px; }
  .shadow-l { box-shadow: var(--shadow); }
  @media (max-width: 1000px) { .card { grid-column: span 6; } }
  @media (max-width: 640px) { .card { grid-column: span 12; } }
  
  .service .icon-wrap { width: 44px; height: 44px; display: grid; place-items: center; border-radius: 12px; background: #1a2550; margin-bottom: 10px; }
  .service svg { width: 24px; height: 24px; fill: #b9c7ff; }
  
  /* Portfolio */
  .portfolio-grid .project { overflow: hidden; padding: 0; }
  .project .thumb {
    aspect-ratio: 16/10; border-bottom: 1px solid #2b355e;
    background: conic-gradient(from 180deg at 50% 50%, hsl(var(--h), 70%, 55%), hsl(calc(var(--h) + 50), 70%, 55%));
  }
  .project .body { padding: 14px 16px; display: grid; gap: 6px; }
  .tags { display: flex; gap: 8px; flex-wrap: wrap; }
  .tag { font-size: 12px; padding: 2px 8px; border-radius: 999px; border: 1px solid #2b355e; color: #b9c7ff; }
  .chip {
    border: 1px solid #2b355e; background: #10183a; color: #e6e8ef; border-radius: 999px; padding: 6px 12px; cursor: pointer;
  }
  .chip.is-active { background: linear-gradient(135deg, var(--brand), var(--brand-2)); color: #0b1020; }
  
  /* Modal */
  dialog { border: none; padding: 0; background: transparent; }
  dialog::backdrop { background: rgba(3,7,18,.6); backdrop-filter: blur(2px); }
  .modal-card { width: min(760px, 92vw); background: var(--panel); border: 1px solid #2b355e; border-radius: var(--radius); padding: 18px; position: relative; }
  .modal-card .close { position: absolute; right: 10px; top: 10px; }
  .modal-media { aspect-ratio: 16/9; background: #0e1634; border: 1px solid #2b355e; border-radius: var(--radius-s); margin: 12px 0; }
  
  /* Carousel */
  .carousel { position: relative; }
  .carousel-track { list-style: none; margin: 16px 0 0; padding: 0; display: grid; gap: 12px; }
  .carousel .slide {
    background: var(--card); border: 1px solid #2b355e; border-radius: var(--radius); padding: 18px;
  }
  .carousel .who { color: #b9c7ff; font-weight: 700; }
  .carousel-controls { display: flex; gap: 10px; justify-content: flex-end; margin-top: 8px; }
  
  /* Om sektion */
  .timeline { margin: 0; padding-left: 18px; }
  .timeline li { margin: 8px 0; }
  .team { display: grid; gap: var(--gap); align-self: start; }
  .person .avatar {
    width: 52px; height: 52px; border-radius: 50%; background: #1a2550; display: grid; place-items: center; color: #c8d3ff; font-weight: 800;
  }
  
  /* Form */
  .field { display: grid; gap: 6px; margin-bottom: 14px; }
  input, select, textarea {
    width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid #2b355e; background: #0f172a; color: var(--text);
  }
  input:focus, select:focus, textarea:focus { outline: 2px solid #3547a7; }
  .error { color: var(--danger); min-height: 1.2em; }
  .form-feedback { min-height: 1.2em; margin-top: 10px; }
  
  /* Footer */
  .site-footer { padding: 22px 0; border-top: 1px solid rgba(255,255,255,.06); background: #0b1228; }
  
  /* Back to top */
  .to-top { position: fixed; right: 16px; bottom: 16px; opacity: 0; pointer-events: none; transition: opacity .25s; }
  .to-top.show { opacity: 1; pointer-events: auto; }
  
  /* Skip-link */
  .skip-link {
    position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden;
  }
  .skip-link:focus {
    left: 10px; top: 10px; width: auto; height: auto; background: #fff; color: #000; padding: 6px 10px; border-radius: 8px;
  }
  
  /* Reveal on scroll */
  [data-observe] { opacity: 0; transform: translateY(12px); transition: opacity .6s, transform .6s; }
  [data-observe].visible { opacity: 1; transform: translateY(0); }
  